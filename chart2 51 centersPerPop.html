<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<style media="screen">
  #chart2 {
    min-width: 310px;
    width: 100%;
    /*height must be a minimum of 860px*/
    min-height: 860px;
    height: 1000px;
    margin: 0 auto;
  }

  .highcharts-background {
    fill: transparent;
  }
  /*body{
    background: url("https://images.unsplash.com/photo-1463780324318-d1a8ddc05a11") no-repeat center center fixed;
  }*/

  .highcharts-title {
    font-family: 'Lato', sans-serif !important;
  }

  .highcharts-legend {
    font-family: 'Lato', sans-serif !important;
  }

  .highcharts-axis-labels {
    font-family: 'Lato', sans-serif !important;
  }

  .highcharts-xaxis-labels {
    font-family: 'Lato', sans-serif !important;
  }

  @media (max-width: 700px) {
    #chart2 {
      height: 1000px;
    }
    .highcharts-color-0 {
      fill: #bad80a !important;
    }
    body {
      /*background: url("https://images.unsplash.com/photo-1463780324318-d1a8ddc05a11");*/
    }
  }
</style>

<!-- 860px min height before font gets messed up -->
<div id="chart2"></div>

<script>
  var chart2 = function() {
    Highcharts.chart("chart2", {
      chart: {
        type: "bar"
      },
      title: {
        text: "State Ranking by Centers Per Million People"
      },
      xAxis: {
        categories: [
        "Delaware",
        "Rhode Island",
        "Connecticut",
        "New Jersey",
        "New Hampshire",
        "Pennsylvania",
        "Kentucky",
        "Massachusetts",
        "Vermont",
        "New York",
        "West Virginia",
        "Indiana",
        "Maryland",
        "North Carolina",
        "Colorado",
        "Virginia",
        "Idaho",
        "Michigan",
        "Nevada",
        "South Carolina",
        "Nation",
        "Florida",
        "Alabama",
        "Maine",
        "Iowa",
        "District of Columbia",
        "Missouri",
        "Tennessee",
        "Alaska",
        "Mississippi",
        "Washington",
        "Louisiana",
        "Georgia",
        "Texas",
        "Oregon",
        "Minnesota",
        "Ohio",
        "Illinois",
        "Arkansas",
        "Arizona",
        "Nebraska",
        "Wisconsin",
        "Hawaii",
        "Kansas",
        "North Dakota",
        "California",
        "Montana",
        "New Mexico",
        "Oklahoma",
        "Wyoming",
        "South Dakota",
        "Utah"]
      },
      yAxis: {
        min: 0,
        title: {
          text: "Incidence"
        }
      },
      legend: {
        reversed: true
      },
      plotOptions: {
        series: {
          stacking: "normal"
        }
      },
      series: [{
        name: "States",
        data: [21.1,
        17.0,
        9.5,
        9.2,
        9.0,
        8.7,
        8.4,
        8.2,
        8.0,
        6.6,
        6.5,
        6.5,
        6.5,
        6.0,
        5.9,
        5.7,
        5.4,
        5.2,
        5.2,
        4.9,
        4.8,
        4.7,
        4.5,
        4.5,
        4.5,
        4.5,
        4.3,
        4.1,
        4.1,
        4.0,
        3.9,
        3.9,
        3.8,
        3.8,
        3.7,
        3.6,
        3.6,
        3.4,
        3.4,
        3.2,
        3.2,
        2.9,
        2.8,
        2.7,
        2.6,
        2.4,
        1.9,
        1.9,
        1.8,
        1.7,
        1.2,
        0.7]
      }],
      dataLabels: {
        style: {
          fontFamily: "'Lato', sans-serif"
        }
      }
    });
    // hide credits
    // $(".highcharts-credits").html("");
    $(".highcharts-color-0").css("fill", "#3a75c4");
    $(".highcharts-legend-item rect").css("fill", "#3a75c4");

    var state = Cookies.get('state');
    // bar on graph changes to green based on state selection
    if (state == "KY") {
      $("#chart2 .highcharts-series-group rect:nth-child(1)").css("fill", "#7fba00");
    }
    if (state == "WV") {
      $("#chart2 .highcharts-series-group rect:nth-child(2)").css("fill", "#7fba00");
    }
    if (state == "AR") {
      $("#chart2 .highcharts-series-group rect:nth-child(3)").css("fill", "#7fba00");
    }
    if (state == "MO") {
      $("#chart2 .highcharts-series-group rect:nth-child(4)").css("fill", "#7fba00");
    }
    if (state == "TN") {
      $("#chart2 .highcharts-series-group rect:nth-child(5)").css("fill", "#7fba00");
    }
    if (state == "ME") {
      $("#chart2 .highcharts-series-group rect:nth-child(6)").css("fill", "#7fba00");
    }
    if (state == "MS") {
      $("#chart2 .highcharts-series-group rect:nth-child(7)").css("fill", "#7fba00");
    }
    if (state == "LA") {
      $("#chart2 .highcharts-series-group rect:nth-child(8)").css("fill", "#7fba00");
    }
    if (state == "RI") {
      $("#chart2 .highcharts-series-group rect:nth-child(9)").css("fill", "#7fba00");
    }
    if (state == "IN") {
      $("#chart2 .highcharts-series-group rect:nth-child(10)").css("fill", "#7fba00");
    }
    if (state == "AL") {
      $("#chart2 .highcharts-series-group rect:nth-child(11)").css("fill", "#7fba00");
    }
    if (state == "OK") {
      $("#chart2 .highcharts-series-group rect:nth-child(12)").css("fill", "#7fba00");
    }
    if (state == "DE") {
      $("#chart2 .highcharts-series-group rect:nth-child(13)").css("fill", "#7fba00");
    }
    if (state == "NC") {
      $("#chart2 .highcharts-series-group rect:nth-child(14)").css("fill", "#7fba00");
    }
    if (state == "SC") {
      $("#chart2 .highcharts-series-group rect:nth-child(15)").css("fill", "#7fba00");
    }
    if (state == "OH") {
      $("#chart2 .highcharts-series-group rect:nth-child(16)").css("fill", "#7fba00");
    }
    if (state == "GA") {
      $("#chart2 .highcharts-series-group rect:nth-child(17)").css("fill", "#7fba00");
    }
    if (state == "IL") {
      $("#chart2 .highcharts-series-group rect:nth-child(18)").css("fill", "#7fba00");
    }
    if (state == "MI") {
      $("#chart2 .highcharts-series-group rect:nth-child(19)").css("fill", "#7fba00");
    }
    if (state == "MA") {
      $("#chart2 .highcharts-series-group rect:nth-child(20)").css("fill", "#7fba00");
    }
    if (state == "NH") {
      $("#chart2 .highcharts-series-group rect:nth-child(21)").css("fill", "#7fba00");
    }
    if (state == "PA") {
      $("#chart2 .highcharts-series-group rect:nth-child(22)").css("fill", "#7fba00");
    }
    if (state == "VT") {
      $("#chart2 .highcharts-series-group rect:nth-child(23)").css("fill", "#7fba00");
    }
    if (state == "IA") {
      $("#chart2 .highcharts-series-group rect:nth-child(24)").css("fill", "#7fba00");
    }
    if (state == "DC") {
      $("#chart2 .highcharts-series-group rect:nth-child(25)").css("fill", "#7fba00");
    }
    if (state == "FL") {
      $("#chart2 .highcharts-series-group rect:nth-child(26)").css("fill", "#7fba00");
    }
    if (state == "CT") {
      $("#chart2 .highcharts-series-group rect:nth-child(27)").css("fill", "#7fba00");
    }
    if (state == "VA") {
      $("#chart2 .highcharts-series-group rect:nth-child(28)").css("fill", "#7fba00");
    }
    if (state == "NY") {
      $("#chart2 .highcharts-series-group rect:nth-child(29)").css("fill", "#7fba00");
    }
    if (state == "NE") {
      $("#chart2 .highcharts-series-group rect:nth-child(30)").css("fill", "#7fba00");
    }
    if (state == "KS") {
      $("#chart2 .highcharts-series-group rect:nth-child(31)").css("fill", "#7fba00");
    }
    if (state == "WI") {
      $("#chart2 .highcharts-series-group rect:nth-child(32)").css("fill", "#7fba00");
    }
    if (state == "WA") {
      $("#chart2 .highcharts-series-group rect:nth-child(33)").css("fill", "#7fba00");
    }
    if (state == "NV") {
      $("#chart2 .highcharts-series-group rect:nth-child(34)").css("fill", "#7fba00");
    }
    if (state == "AK") {
      $("#chart2 .highcharts-series-group rect:nth-child(35)").css("fill", "#7fba00");
    }
    if (state == "NJ") {
      $("#chart2 .highcharts-series-group rect:nth-child(36)").css("fill", "#7fba00");
    }
    if (state == "MD") {
      $("#chart2 .highcharts-series-group rect:nth-child(37)").css("fill", "#7fba00");
    }
    if (state == "OR") {
      $("#chart2 .highcharts-series-group rect:nth-child(38)").css("fill", "#7fba00");
    }
    if (state == "TX") {
      $("#chart2 .highcharts-series-group rect:nth-child(39)").css("fill", "#7fba00");
    }
    if (state == "ND") {
      $("#chart2 .highcharts-series-group rect:nth-child(40)").css("fill", "#7fba00");
    }
    if (state == "MN") {
      $("#chart2 .highcharts-series-group rect:nth-child(41)").css("fill", "#7fba00");
    }
    if (state == "SD") {
      $("#chart2 .highcharts-series-group rect:nth-child(42)").css("fill", "#7fba00");
    }
    if (state == "MT") {
      $("#chart2 .highcharts-series-group rect:nth-child(43)").css("fill", "#7fba00");
    }
    if (state == "ID") {
      $("#chart2 .highcharts-series-group rect:nth-child(44)").css("fill", "#7fba00");
    }
    if (state == "AZ") {
      $("#chart2 .highcharts-series-group rect:nth-child(45)").css("fill", "#7fba00");
    }
    if (state == "WY") {
      $("#chart2 .highcharts-series-group rect:nth-child(46)").css("fill", "#7fba00");
    }
    if (state == "CO") {
      $("#chart2 .highcharts-series-group rect:nth-child(47)").css("fill", "#7fba00");
    }
    if (state == "HI") {
      $("#chart2 .highcharts-series-group rect:nth-child(48)").css("fill", "#7fba00");
    }
    if (state == "CA") {
      $("#chart2 .highcharts-series-group rect:nth-child(49)").css("fill", "#7fba00");
    }
    if (state == "NM") {
      $("#chart2 .highcharts-series-group rect:nth-child(50)").css("fill", "#7fba00");
    }
    if (state == "UT") {
      $("#chart2 .highcharts-series-group rect:nth-child(51)").css("fill", "#7fba00");
    }
  };

 $(document).ready(function(){
   chart2();
 })
  // var state = function(){
  // }
</script>
